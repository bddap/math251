<!DOCTYPE html>
<html>

<head>
  <title></title>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/3.12.1/math.min.js"></script>
  <!-- load http://maurizzzio.github.io/function-plot/ -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="https://wzrd.in/standalone/function-plot@1.17.3"></script>

  <style media="screen">
    .theorem {
      background-color: #eee;
    }

    .theorem>p {
      padding: 1rem;
    }

    body {
      margin: 10%;
      font-family: sans-serif;
    }

    td {
      padding-right: 1rem;
    }
  </style>

  <script type="text/javascript">
    class FunctionPlot extends HTMLElement {
      static get observedAttributes() {
        return ['fn'];
      }
      attributeChangedCallback(attr, oldValue, newValue) {
        if (attr == 'fn') {
          functionPlot({
            target: this,
            title: newValue,
            data: [{
              fn: newValue
              // ,
              // graphType: 'polyline',
              // sampler: 'builtIn'
            }]
          })
        }
      }
    }
    customElements.define('function-plot', FunctionPlot);
  </script>

  <script type="text/javascript">
    function showTable(table) {
      const scriptTag = document.scripts[document.scripts.length - 1];
      const parent = scriptTag.parentNode;
      const t = document.createElement('table');
      parent.appendChild(t);
      table.forEach((row, i) => {
        const r = t.insertRow(i);
        row.forEach((cell, j) => {
          r.insertCell(j).textContent = cell;
        });
      });
    }
  </script>

  <script>
    setTimeout(() => {
      location.reload()
    }, 200000)
  </script>
</head>

<body>

  <h2>2.13</h2>

  <p>`f(x) = { (4/(x-5), x
    < 1), ((x-3)/(x-3), 1 < x < 4), (2x+1, 4 <=x <=7 ), (15/8-x, x> 7) :}`</p>

  <p>
    <script>
      function f213(x) {
        if (x < 1) {
          return 4 / (x - 5)
        } else if (1 < x < 4) {
          return (x - 3) / (x - 3)
        } else if (4 <= x <= 7) {
          return 2 * x + 1
        } else if (x > 7) {
          return 15 / 8 - x
        }
      }

      const scriptTag = document.scripts[document.scripts.length - 1];
      const parent = scriptTag.parentNode;
      const t = document.createElement('p');
      parent.appendChild(t);

      functionPlot({
        target: t,
        title: 'f213',
        data: [{
          fn: 'x'
        }]
      })
    </script>

    <script>
      showTable([
        ["a", "f(a)", "lim_(x->a^-) f(a)", "lim_(x->a^+) f(a)", "lim_(x->a) f(a)"],
        [1, f213(1), "", "", ""],
        [2, f213(2), "", "", ""],
        [3, f213(3), "", "", ""],
        [4, f213(4), "", "", ""],
        [5, f213(5), "", "", ""],
        [6, f213(6), "", "", ""],
        [7, f213(7), "", "", ""],
        [8, f213(8), "", "", ""]
      ].map(a => a.map(b => "`" + b + "`")))
    </script>
  </p>
</body>

</html>
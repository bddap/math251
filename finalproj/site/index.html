<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Housing</title>
  <style media="screen">
    html {
      font-family: sans-serif;
    }
    
    body {
      margin: 5vw;
    }

    table {
      border-collapse: collapse;
    }

    th,
    td {
      border: 0.2rem solid black;
      padding: 0.3rem;
    }

    figcaption {
      margin-top: 1rem;
      margin-bottom: 1rem;
      font-weight: bold;
    }
  </style>

  <script src="index.js"></script>
  <script>
    const index = require('index')
    const Chart = require('chart.js')
  </script>
</head>

<body>
  <h2>Math 251 Project Presentation</h2>
  <!-- <p>Slope of a secant lines for a data set compared to the derivative of a regression of the data set</p> -->

  <h2>Introduction</h2>
  <!--25% <p>Clear description of the topic and data including units/scale. How it was chosen and a clear and compelling description of why it was chosen.</p> -->

  <p>This project examines Oregon home pricing data from <a href="https://catalog.data.gov/dataset/fhfa-house-price-indexes-hpis">data.gov</a>. I chose this topic because my wife and I want to buy a house sometime. Ideally we want to buy when prices are
    at a local minima. Perhaps this dataset will provide some useful insight.</p>

  <p>data.gov provides HPI for the whole Nation. Only Oregon housing info is shown in this report.</p>

  <p>The data is arranged such that the x axis represents year, and the y axis represents average home price in thousands.</p>

  <h2>Presentation of Data</h2>
  <!-- 25% <p>Data is presented in table and graphic form following the Writing Guidelines including appropriate scales/column headings, units and fig. reference notation. Slope of secant line correctly found for at least one point.</p> -->

  <!-- Data is presented in table -->
  <figure>
    <figcaption>
      Figure 1.1.1. HPI Data as a Table.
      <button onclick="
        e = document.getElementById('data_table');
        e.hidden = !e.hidden;
        this.innerText = (e.hidden ? 'Show' : 'Hide')
      ">Show</button>
    </figcaption>
    <table hidden id="data_table">
      <th>Year</th>
      <th>Average Price in Thousands of Dollars</th>
    </table>
    <script>
      index.loadPrices()
        .then(prices => index.fillTable(
          document.getElementById('data_table'),
          prices.map(p => [p.x, p.y])
        ))
    </script>
  </figure>

  <!-- and graphic form -->
  <figure>
    <figcaption>Figure 1.1.2. HPI Data as a Graph.</figcaption>
    <canvas id="initial_plot"></canvas>
    <script>
      index.loadPrices()
        .then(prices => {
          new Chart("initial_plot", {
            type: 'line',
            data: {
              datasets: [{
                label: 'Source Data',
                data: prices
              }]
            },
            options: {
              responsive: true,
              title: {
                display: true,
                text: 'House Pricing Index Oregon'
              },
              scales: {
                xAxes: [{
                  type: 'linear',
                  display: true,
                  scaleLabel: {
                    display: true,
                    labelString: 'Year'
                  }
                }],
                yAxes: [{
                  display: true,
                  scaleLabel: {
                    display: true,
                    labelString: 'Average Price in Thousands of Dollars'
                  }
                }]
              }
            }
          });
        })
    </script>
  </figure>

  <h2>Regression</h2>
  <!-- 25% <p>Several regressions of the data were correctly performed and are presented. Logical and complete reasons for best choice are given including long- and short-run behavior and limitations.</p> -->

  <h2>Conclusion</h2>
  <!-- 25% <p>Results of data and regression calculations correctly interpreted. Shortcoming of the method are addressed and limitations of choices discussed.</p> -->

  <!-- <p>Grade Calculated (Max is 95% plus up to 5pts for Wow! Points) using the following formula: 50 + 3.75*(Intro+Data+Domain+Incresaing)+WowPoints</p> -->

</body>

</html>